贪吃蛇 设计文档

目的：制作贪吃蛇游戏

所需信息：
----------------
#####模型信息：(Model)

	- 配置：定时器，蛇每次移动一格的间隔时间：1s(1000ms)。

	- 数据：数组类结构(下文简称数组)，存储蛇头及蛇身的位置，数组的首元素存储蛇头的位置。

	- 数据：蛇类，存储蛇的位置，及对蛇的操作。

	- 数据：食物类，存储食物的位置。

	- 常量：蛇的运动方向。方向值为0~3，分别表示向右、上、下、左移动，初始值为0。
	- 常量：移动距离，蛇身之间的间隙与方块的和。

#####控制信息：(Controller)

	- 移动蛇：将蛇头的数据赋值给数组最后一个元素，根据方向，每次将蛇向该方向移动1个方块的距离。

		步骤：
			
			0.方向向右，全部数组元素(也就是蛇的水平位置)需要左移1个单元，并在数组最后，添加一个新的元素作为蛇头，将数组倒数第二个元素的值增加移动距离，并赋值给新的元素。

				方向向上，全部数组元素(也就是蛇的竖直位置)需要左移1个单元，并在数组最后，添加一个新的元素作为蛇头，将数组倒数第二个元素的值增加移动距离赋值给新的元素。

				方向向下，全部数组元素(也就是蛇的竖直位置)需要左移1个单元，并在数组最后，添加一个新的元素作为蛇头，将数组倒数第二个元素的值增加移动距离赋值给新的元素。

				方向向左，全部数组元素(也就是蛇的水平位置)需要右移1个单元，并在数组开头，添加一个新的元素作为蛇尾，将数组第二个元素的值减少移动距离，并赋值给新的元素。

			1.重新绘制整条蛇。

	- 死亡蛇：整个蛇变灰，程序退出。

	- 撞墙：蛇头位置超出矩形区域

	- 撞到自己：蛇头撞到蛇自己的身体。

	- 撞到食物：蛇发生增长，蛇身变长1个方块，蛇按照碰撞前的方向继续移动，在其他位置生成新的食物。

		步骤：

			0.向数组中添加一个元素，存储当前蛇头的信息

			1.将食物的数据，存储到蛇头中，蛇头颜色不变。

			2.重新绘制整条蛇。

	- 无碰撞：若蛇未发生碰撞，则继续根据方向进行移动。

	- 用户输入：接收用户输入，根据用户输入的方向，改变方向值。


#####绘制信息：(View)

	- 定义：方格是一块矩形区域，方格可以被绘制成各种颜色。

	- 定义：方块，表示蛇的一节身体、头、食物，所有的方块由方格组成。

	- 定义：蛇身体之间的间隙，也是方块， 颜色为白色。

	- 定义：位置，相对于屏幕左上角的位置。

	- 配置：屏幕由很多方格组成，横向w_width个，纵向w_height个，颜色为空。

	- 配置：矩形边界，由方格组成，横向为b_width个，纵向b_height个，颜色为蓝色。

	- 配置：蛇身、头由方块表示，蛇头1个方块，蛇身n_body个方块，颜色为黑色。
		
	- 配置：食物由方格表示，1个，食物不能与蛇重合，颜色为红色。

	- 常量：蛇初始状态，蛇头，蛇身1个方块，食物。

	- 绘制边框：在特定位置上(左上角坐标)绘制指定颜色的矩形边框，边框宽高为b_width方格 X b_height方格。

	- 绘制蛇：循环遍历数组，获取到蛇的位置，方块的颜色，将蛇在特定位置画出。

	- 绘制食物：在随机的特定位置上生成1个食物。


游戏运行机制
---------------
1.首先根据蛇初始状态，绘制初始界面，即，绘制矩形边框、蛇和食物。

2.设置定时器为1s，即定时器每隔1s触发一次蛇运动，启动定时器。

3.根据方向值，移动蛇。

4.读取用户输入，根据用户输入改变方向值。

5.检测蛇是否发生碰撞，如果未发生碰撞，则跳转至Step3；否则，如果蛇发生碰撞，如果撞墙或者撞到自己，则蛇死亡，程序退出；否则，如果撞到食物，则蛇发生增长。

6.跳转至第3步。


